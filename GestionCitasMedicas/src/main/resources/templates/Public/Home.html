<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Sistema de Gestión Hospitalaria</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/css/Home.css}" rel="stylesheet" />
    <style>
        .card-link {
            text-decoration: none;
            color: inherit;
            transition: transform 0.3s;
        }
        .card-link:hover {
            transform: translateY(-5px);
        }
        .card {
            transition: box-shadow 0.3s;
        }
        .card:hover {
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
    <div class="container">
        <a class="navbar-brand" href="#"><i class="fas fa-heartbeat me-2"></i>MedicalUTP</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#inicio">Inicio</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#doctores">Doctores</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#citas">Citas</a>
                </li>
                <div th:if="${usuarioAutenticado}">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle btn btn-outline-primary rounded-pill px-3 py-2 d-flex align-items-center"
                           href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-user-circle me-2"></i>
                            <span th:text="${nombreUsuario}" class="fw-medium">Usuario</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end shadow-lg border-0 rounded-3 mt-2" style="min-width: 200px;">
                            <li class="dropdown-header text-muted small">
                                <i class="fas fa-user me-1"></i>Mi Cuenta
                            </li>
                            <li>
                                <a class="dropdown-item py-2 px-3 d-flex align-items-center" href="/PerfilUsuario">
                                    <i class="fas fa-user-circle me-3 text-primary"></i>
                                    <span>Mi Perfil</span>
                                </a>
                            </li>
                            <li><hr class="dropdown-divider my-2"></li>
                            <li>
                                <form th:action="@{/logout}" method="post" style="margin: 0;">
                                    <button type="submit" class="dropdown-item py-2 px-3 d-flex align-items-center text-danger">
                                        <i class="fas fa-sign-out-alt me-3"></i>
                                        <span>Cerrar Sesión</span>
                                    </button>
                                </form>
                            </li>
                        </ul>
                    </li>
                </div>

                <!-- Usuario NO autenticado - Versión mejorada -->
                <div sec:authorize="!isAuthenticated()">
                    <li class="nav-item me-2">
                        <a class="btn btn-outline-primary rounded-pill px-4 py-2" th:href="@{/Public/Login}">
                            <i class="fas fa-sign-in-alt me-2"></i>Iniciar Sesión
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="btn btn-primary rounded-pill px-4 py-2" th:href="@{/register}">
                            <i class="fas fa-user-plus me-2"></i>Registro
                        </a>
                    </li>
                </div>

                <!-- Usuario AUTENTICADO - Versión con perfil completo -->
                <div sec:authorize="isAuthenticated()">
                    <div class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle d-flex align-items-center p-2 rounded-3 bg-light"
                           href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <div class="d-flex align-items-center">
                                <img style="height: 45px; width: 45px;"
                                     src="/Imagenes/Perfil.png"
                                     alt="Perfil"
                                     class="rounded-circle border border-2 border-primary me-3">
                                <div class="d-none d-md-block text-start">
                                    <div class="fw-bold text-dark small" th:text="${nombres + ' ' + apellidos}">
                                        Nombre Usuario
                                    </div>
                                    <div class="text-muted small" th:text="${email}">
                                        email@ejemplo.com
                                    </div>
                                </div>
                                <i class="fas fa-chevron-down ms-2 text-muted small"></i>
                            </div>
                        </a>

                        <ul class="dropdown-menu dropdown-menu-end shadow-lg border-0 rounded-3 mt-2" style="min-width: 250px;">
                            <!-- Header del dropdown -->
                            <li class="dropdown-header bg-primary text-white rounded-top p-3 mb-2">
                                <div class="d-flex align-items-center">
                                    <img style="height: 40px; width: 40px;"
                                         src="/Imagenes/Perfil.png"
                                         alt="Perfil"
                                         class="rounded-circle border border-2 border-white me-3">
                                    <div>
                                        <div class="fw-bold small" th:text="${nombres + ' ' + apellidos}">
                                            Nombre Usuario
                                        </div>
                                        <div class="small opacity-75" th:text="${email}">
                                            email@ejemplo.com
                                        </div>
                                    </div>
                                </div>
                            </li>

                            <!-- Opciones generales -->
                            <li>
                                <a class="dropdown-item py-2 px-3 d-flex align-items-center" th:href="@{/PerfilUsuario}">
                                    <i class="fas fa-user-circle me-3 text-primary"></i>
                                    <span>Mi Perfil</span>
                                </a>
                            </li>

                            <!-- Opciones específicas para pacientes -->
                            <li th:if="${esPaciente}">
                                <a class="dropdown-item py-2 px-3 d-flex align-items-center" th:href="@{/mis-citas}">
                                    <i class="fas fa-calendar-check me-3 text-success"></i>
                                    <span>Mis Citas</span>
                                </a>
                            </li>

                            <!-- Opciones específicas para médicos -->
                            <li th:if="${esMedico}">
                                <a class="dropdown-item py-2 px-3 d-flex align-items-center" th:href="@{/agenda-medica}">
                                    <i class="fas fa-calendar-alt me-3 text-info"></i>
                                    <span>Mi Agenda</span>
                                </a>
                            </li>

                            <!-- Dashboard para roles administrativos -->
                            <li sec:authorize="hasAnyAuthority('Moderador', 'Administrador')">
                                <a class="dropdown-item py-2 px-3 d-flex align-items-center" th:href="@{/dashboard}">
                                    <i class="fas fa-tachometer-alt me-3 text-warning"></i>
                                    <span>Dashboard</span>
                                </a>
                            </li>

                            <li><hr class="dropdown-divider my-2"></li>

                            <!-- Configuración -->
                            <li>
                                <a class="dropdown-item py-2 px-3 d-flex align-items-center" href="#">
                                    <i class="fas fa-cog me-3 text-secondary"></i>
                                    <span>Configuración</span>
                                </a>
                            </li>

                            <!-- Cerrar sesión -->
                            <li>
                                <a class="dropdown-item py-2 px-3 d-flex align-items-center text-danger" th:href="@{/logout}">
                                    <i class="fas fa-sign-out-alt me-3"></i>
                                    <span>Cerrar Sesión</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </ul>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<section id="inicio" class="hero-section">
    <div class="container hero-content">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">Bienvenido a MedicalUTP</h1>
                <p class="lead mb-4">
                    Somos un hospital de vanguardia comprometido con brindar atención médica de excelencia.
                    Nuestro equipo de profesionales altamente calificados utiliza tecnología de última generación
                    para garantizar el mejor cuidado para nuestros pacientes.
                </p>
                <div class="row text-center mb-4">
                    <div class="col-4">
                        <div class="stats-counter text-white">500+</div>
                        <small>Pacientes Atendidos</small>
                    </div>
                    <div class="col-4">
                        <div class="stats-counter text-white">50+</div>
                        <small>Especialistas</small>
                    </div>
                    <div class="col-4">
                        <div class="stats-counter text-white">24/7</div>
                        <small>Atención</small>
                    </div>
                </div>
                <a href="#citas" class="btn btn-light btn-lg pulse-animation">
                    <i class="fas fa-calendar-plus me-2"></i>Agendar Cita
                </a>
            </div>
            <div class="col-lg-6">
                <div class="floating-icon text-center">
                    <i class="fas fa-user-md" style="font-size: 15rem; opacity: 0.3;"></i>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Doctores Section -->
<section id="doctores" class="py-5">
    <div class="container">
        <h2 class="text-center section-title">Nuestros Especialistas</h2>
        <div class="row">
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="card doctor-card h-100">
                    <div class="card-body text-center p-4">
                        <div class="mb-3">
                            <i class="fas fa-user-md fa-3x text-primary"></i>
                        </div>
                        <h5 class="card-title">Dr. Carlos Mendoza</h5>
                        <p class="text-muted">Cardiología</p>
                        <p class="card-text">Especialista en enfermedades cardiovasculares con 15 años de experiencia.</p>
                        <div class="mb-3">
                            <small class="text-success"><i class="fas fa-clock me-1"></i>Disponible: Lun-Vie 8:00-17:00</small>
                        </div>
                        <button class="btn btn-custom">Agendar Cita</button>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="card doctor-card h-100">
                    <div class="card-body text-center p-4">
                        <div class="mb-3">
                            <i class="fas fa-user-md fa-3x text-info"></i>
                        </div>
                        <h5 class="card-title">Dra. Ana García</h5>
                        <p class="text-muted">Pediatría</p>
                        <p class="card-text">Especialista en medicina infantil y adolescente con enfoque integral.</p>
                        <div class="mb-3">
                            <small class="text-success"><i class="fas fa-clock me-1"></i>Disponible: Mar-Sáb 9:00-18:00</small>
                        </div>
                        <button class="btn btn-custom">Agendar Cita</button>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="card doctor-card h-100">
                    <div class="card-body text-center p-4">
                        <div class="mb-3">
                            <i class="fas fa-user-md fa-3x text-success"></i>
                        </div>
                        <h5 class="card-title">Dr. Roberto Silva</h5>
                        <p class="text-muted">Neurología</p>
                        <p class="card-text">Experto en trastornos del sistema nervioso y cirugía neurológica.</p>
                        <div class="mb-3">
                            <small class="text-success"><i class="fas fa-clock me-1"></i>Disponible: Lun-Jue 10:00-16:00</small>
                        </div>
                        <button class="btn btn-custom">Agendar Cita</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Appointment Section -->
<section id="citas" class="appointment-section">
    <div class="container">
        <h2 class="text-center section-title text-dark">Agendar Nueva Cita</h2>
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow-lg border-0" style="border-radius: 20px;">
                    <div class="card-body p-5">
                        <form>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Especialidad</label>
                                    <select class="form-select">
                                        <option>Seleccionar especialidad</option>
                                        <option>Cardiología</option>
                                        <option>Pediatría</option>
                                        <option>Neurología</option>
                                        <option>Medicina General</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Doctor</label>
                                    <select class="form-select">
                                        <option>Seleccionar doctor</option>
                                        <option>Dr. Carlos Mendoza</option>
                                        <option>Dra. Ana García</option>
                                        <option>Dr. Roberto Silva</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Fecha</label>
                                    <input type="date" class="form-control">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Hora</label>
                                    <select class="form-select">
                                        <option>Seleccionar hora</option>
                                        <option>08:00 AM</option>
                                        <option>09:00 AM</option>
                                        <option>10:00 AM</option>
                                        <option>11:00 AM</option>
                                        <option>02:00 PM</option>
                                        <option>03:00 PM</option>
                                        <option>04:00 PM</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label fw-bold">Motivo de la consulta</label>
                                <textarea class="form-control" rows="3" placeholder="Describa brevemente el motivo de su consulta"></textarea>
                            </div>
                            <div class="text-center">
                                <button type="submit" class="btn btn-custom btn-lg">
                                    <i class="fas fa-calendar-check me-2"></i>Confirmar Cita
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="bg-dark text-white py-4">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h5><i class="fas fa-heartbeat me-2"></i>MedicalUTP</h5>
                <p>Comprometidos con tu salud y bienestar.</p>
            </div>
            <div class="col-md-6 text-md-end">
                <p><i class="fas fa-phone me-2"></i>+51 123 456 789</p>
                <p><i class="fas fa-envelope me-2"></i>info@medicalutp.com</p>
            </div>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
